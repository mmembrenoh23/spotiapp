<app-loading *ngIf="loading"></app-loading>
<app-alerts *ngIf="error" [title] = "title_error" [message]="error_message" ></app-alerts>
<div class="row"  *ngIf="!loading">
  <div class="col-1"></div>
  <div class="col-10">
    <div class="card mb-3">
        <div class="row no-gutters">
          <div class="col-md-4">
            <img [src]="artist.images | noimage" class="card-img" alt="...">
          </div>
          <div class="col-md-8 body-card">
            <div class="card-body">
              <h5 class="card-title">{{ artist.name }}</h5>
              <p class="card-text">
                Genres:
                <span class="badge badge-pill badge-info" *ngFor="let gen of artist.genres"> {{ gen }}</span>
              </p>
              <p class="card-text">
                Popularity: {{ artist.popularity | number }}
              </p>
              <p class="card-text">
                Followers: {{ artist.followers.total | number:'':'en' }}
              </p>
              <button [routerLink]="['/search']"class="btn btn-outline-danger float-right"> Back </button>
            </div>
          </div>
        </div>
      </div>
  </div>
  <div class="col-1"></div>
</div>

<div class="row m-5">
  <div class="col">
    <table class="table table-dark">
      <thead class="thead-light">
        <tr>
          <th>Picture</th>
          <th>Album</th>
          <th>Song</th>
          <th>Preview</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let toptrack of topTracks">
          <td><img [src]="toptrack.album.images | noimage" alt="" class="img-thumb2"></td>
          <td>{{ toptrack.album.name }}</td>
          <td>{{ toptrack.name }}</td>
          <td>
            <iframe [src]="toptrack.uri | domseguro:'https://open.spotify.com/embed?uri='" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
            </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
